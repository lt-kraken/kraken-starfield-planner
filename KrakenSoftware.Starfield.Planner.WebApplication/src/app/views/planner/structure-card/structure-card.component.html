<mat-card class="structure-card" [class]="class">
  <mat-card-content>
    <div class="card-input-fields">
      <span *ngIf="!enableDropdown">{{ data.structure?.name ?? '' }}</span>
      <mat-form-field appearance="fill" *ngIf="enableDropdown">
        <mat-label>Structure</mat-label>
        <mat-select panelClass="{{class}}" [(ngModel)]="currentStructureName" (selectionChange)="updateStructure()">
          <mat-option *ngFor="let structure of structureOptions$ | async" [value]="structure.name">{{ structure.name }}</mat-option>
        </mat-select>
      </mat-form-field>
      <app-increment-input [class]="class" [data]="data" />
      <span class="green-label" *ngIf="data.amount_desired > 0">+ {{ data.amount_desired }}</span>
      <span class="red-label" *ngIf="data.amount_desired < 0">- {{ data.amount_desired }}</span>
    </div>
    <div class="structure-power">
      <mat-icon>bolt</mat-icon>
      <span>{{ formatPowerDemandOrProduction() }}</span>
      <span *ngIf="data.amount_desired">{{ calculateChange() }}</span>
    </div>
    <div class="card-actions">
      <button mat-icon-button class="green" *ngIf="includeConfirm" (click)="confirmStructure()"><mat-icon>check</mat-icon></button>
      <button mat-icon-button class="red" (click)="deleteStructure()"><mat-icon>delete</mat-icon></button>
    </div>
  </mat-card-content>
</mat-card>
